<!DOCTYPE html>
<html lang="my">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thailand Guide - Supplier By Ye</title>

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Myanmar:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root{
      --gold:#C9A227;
      --red:#C62828;
      --bg:#f7f6f3;
      --ink:#1b1b1b;
      --card:#ffffff;
      --ring:#e9e2c6;
    }
    *{box-sizing:border-box}
    html,body{ margin:0; background: var(--bg); font-family: "Noto Sans Myanmar", sans-serif; }
    .wrap{ display:flex; flex-direction:column; align-items:center; min-height:100vh; padding:10px; gap:10px; }

    /* ===== Canvas Card (export area) ===== */
    .sheet{
      width: min(800px, 95vw);
      aspect-ratio: 1/1;
      background:#fff;
      border:6px solid var(--gold);
      border-radius:16px;
      padding:20px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      box-shadow:0 8px 20px rgba(0,0,0,.1);
    }
    header{text-align:center;}
    header h1{margin:0;font-size: clamp(20px,5vw,30px);font-weight:800;color:var(--ink);}
    .chips{margin-top:10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;}
    .chip{background:#fff7da;border:2px solid var(--ring);border-radius:10px;padding:6px 12px;font-weight:700;}
    .panel{flex:1;margin:14px 0;background:var(--card);border-radius:12px;border:1px solid #eee2c6;padding:10px;display:flex;flex-direction:column;justify-content:center;gap:14px;}
    .section-title{text-align:center;font-weight:800;color:var(--red);}
    .rates{display:grid;grid-template-columns: repeat(3,1fr);gap:10px;margin-top:4px;}
    .pill{
      border:2px solid var(--ring);
      border-radius:12px;
      padding:8px;
      font-weight:700;
      text-align:center;
      background:#fff;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height:90px;
      line-height:1.4;
    }
    .pill span[contenteditable]{font-weight:800;}

    footer{text-align:center;font-weight:700;margin-top:6px;font-size:13px;color:#a52a2a;}

    /* ===== Controls (won't be exported) ===== */
    .controls{
      width:min(800px,95vw);
      background:#fff;
      border:1px dashed #e0d5a6;
      padding:10px;
      border-radius:10px;
      display:grid;
      grid-template-columns: repeat(5, minmax(120px, 1fr));
      gap:10px;
      align-items:end;
    }
    .controls label{font-size:12px;font-weight:700;color:#6b5a1d;}
    .controls input,.controls select{
      width:100%; padding:8px 10px; border:2px solid #e8e0bf; border-radius:8px; font-weight:700;
      background:#fffdf4;
    }
    .controls .hint{grid-column: 1 / -1; color:#8a7a3a; font-size:12px;}
    .actions{text-align:right; grid-column: 1 / -1;}
    .btn{padding:10px 16px;border:none;border-radius:10px;background:var(--gold);font-weight:800;cursor:pointer;}
  </style>
</head>
<body>
  <div class="wrap">

    <!-- Export area -->
    <div id="capture" class="sheet" aria-label="Exchange board">
      <header>
        <h1>Thailand Guide - Supplier By Ye</h1>
        <div class="chips">
          <div class="chip">နေ့စွဲ: <span id="displayDate">11.9.2025</span></div>
          <div class="chip">အချိန်: <span id="displayTime">9:00AM</span></div>
          <div class="chip"><span id="displayDay">ကြာသပတေးနေ့</span></div>
        </div>
      </header>

      <div class="panel">
        <div class="section-title">ယနေ့ ဘတ်အဝယ်နှုန်း</div>
        <div class="rates">
          <div class="pill">🇲🇲 <span contenteditable="true">100,000</span><br>MMK</div>
          <div class="pill">🇹🇭 <span contenteditable="true">740</span><br>THB</div>
          <div class="pill"><span>ကျပ်ပေး ဘတ်ယူ</span></div>
        </div>

        <div class="section-title">ယနေ့ ဘတ်အရောင်းနှုန်း</div>
        <div class="rates">
          <div class="pill">🇹🇭 <span contenteditable="true">720</span><br>THB</div>
          <div class="pill">🇲🇲 <span contenteditable="true">100,000</span><br>MMK</div>
          <div class="pill"><span>ဘတ်ပေး ကျပ်ယူ</span></div>
        </div>
      </div>

      <footer>
        အချိန်နှင့်အမျှ ငွေဈေးအပြောင်းအလဲရှိနိုင်ပါသည်။
      </footer>
    </div>

    <!-- Controls (not exported) -->
    <div class="controls" aria-hidden="true">
      <div>
        <label>နေ့စွဲ (Date)</label>
        <input id="dateInput" type="date">
      </div>
      <div>
        <label>အချိန် (Time)</label>
        <input id="timeInput" type="time" value="09:00">
      </div>
      <div>
        <label>နေ့ရက် (Weekday)</label>
        <select id="daySelect">
          <option value="တနင်္ဂနွေနေ့">တနင်္ဂနွေနေ့</option>
          <option value="တနင်္လာနေ့">တနင်္လာနေ့</option>
          <option value="အင်္ဂါနေ့">အင်္ဂါနေ့</option>
          <option value="ဗုဒ္ဓဟူးနေ့">ဗုဒ္ဓဟူးနေ့</option>
          <option value="ကြာသပတေးနေ့">ကြာသပတေးနေ့</option>
          <option value="သောကြာနေ့">သောကြာနေ့</option>
          <option value="စနေနေ့">စနေနေ့</option>
        </select>
      </div>
      <div>
        <label>နေ့ရက်ကို ရက်စွဲအလိုက် အလိုအလျောက်</label>
        <select id="autoDay">
          <option value="on" selected>On</option>
          <option value="off">Off</option>
        </select>
      </div>
      <div class="actions">
        <button class="btn" id="saveJpeg">💾 Save JPEG</button>
      </div>
      <div class="hint">မှတ်ချက် — အထက်က Card (#capture) ကိုပုံထုတ်ပါမယ်။ ဒီ Control Panel ကပုံထဲမပါပါ။</div>
    </div>
  </div>

  <script>
    // Myanmar weekday names by index: 0=Sunday..6=Saturday
    const mmWeekdays = ["တနင်္ဂနွေနေ့","တနင်္လာနေ့","အင်္ဂါနေ့","ဗုဒ္ဓဟူးနေ့","ကြာသပတေးနေ့","သောကြာနေ့","စနေနေ့"];

    function pad(n){ return String(n).padStart(2,'0'); }

    function formatDateDMY(d){
      const day = d.getDate();
      const month = d.getMonth()+1;
      const year = d.getFullYear();
      return `${day}.${month}.${year}`;
    }

    function formatTime12h(value){ // "09:00"
      const [h,m] = value.split(':').map(Number);
      const ampm = h >= 12 ? 'PM' : 'AM';
      const hh = ((h + 11) % 12 + 1);
      return `${hh}:${pad(m)}${ampm}`;
    }

    const dateInput = document.getElementById('dateInput');
    const timeInput = document.getElementById('timeInput');
    const daySelect = document.getElementById('daySelect');
    const autoDay = document.getElementById('autoDay');

    const displayDate = document.getElementById('displayDate');
    const displayTime = document.getElementById('displayTime');
    const displayDay = document.getElementById('displayDay');

    // init defaults to today
    const today = new Date();
    dateInput.valueAsDate = today;
    displayDate.textContent = formatDateDMY(today);
    timeInput.value = timeInput.value || '09:00';
    displayTime.textContent = formatTime12h(timeInput.value);
    daySelect.value = mmWeekdays[today.getDay()];
    displayDay.textContent = daySelect.value;

    dateInput.addEventListener('change', () => {
      const d = dateInput.valueAsDate || new Date();
      displayDate.textContent = formatDateDMY(d);
      if (autoDay.value === 'on'){
        const name = mmWeekdays[d.getDay()];
        daySelect.value = name;
        displayDay.textContent = name;
      }
    });

    timeInput.addEventListener('change', () => {
      displayTime.textContent = formatTime12h(timeInput.value);
    });

    daySelect.addEventListener('change', () => {
      if (autoDay.value === 'off'){
        displayDay.textContent = daySelect.value;
      }
    });

    autoDay.addEventListener('change', () => {
      if (autoDay.value === 'on'){
        const d = dateInput.valueAsDate || new Date();
        const name = mmWeekdays[d.getDay()];
        daySelect.value = name;
        displayDay.textContent = name;
      }
    });

    async function saveAsJPEG(){
      const node = document.getElementById('capture');
      const canvas = await html2canvas(node, {backgroundColor:"#fff",scale:2});
      const dataUrl = canvas.toDataURL("image/jpeg",0.95);
      const a=document.createElement("a");
      a.href=dataUrl;
      a.download="exchange.jpg";
      a.click();
    }
    document.getElementById("saveJpeg").addEventListener("click", saveAsJPEG);
  </script>
</body>
</html>
